<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2021-03-12 Fri 19:31 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Odroid XU4</title>
<meta name="generator" content="Org mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="shortcut icon" href="/public_html/favicon.ico" type="image/x-icon">
<link rel="stylesheet" type="text/css" href="https://joesanmarzano.duckdns.org/public_html/css/org-html-themes-master/styles/html-export.css"/>
<link rel="stylesheet" type="text/css" href="https://joesanmarzano.duckdns.org/public_html/css/org-html-themes-master/styles/bigblow/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://joesanmarzano.duckdns.org/public_html/css/org-html-themes-master/styles/bigblow/css/hideshow.css"/>
<link rel="stylesheet" type="text/css" href="https://joesanmarzano.duckdns.org/public_html/css/org-html-themes-master/styles/bigblow/css/code.css">

<script type="text/javascript" src="https://joesanmarzano.duckdns.org/public_html/css/org-html-themes-master/styles/bigblow/js/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="https://joesanmarzano.duckdns.org/public_html/css/org-html-themes-master/styles/bigblow/js/jquery-ui-1.10.2.min.js"></script>
<script type="text/javascript" src="https://joesanmarzano.duckdns.org/public_html/css/org-html-themes-master/styles/bigblow/js/jquery.localscroll-min.js"></script>
<script type="text/javascript" src="https://joesanmarzano.duckdns.org/public_html/css/org-html-themes-master/styles/bigblow/js/jquery.scrollTo-1.4.3.1-min.js"></script>
<script type="text/javascript" src="https://joesanmarzano.duckdns.org/public_html/css/org-html-themes-master/styles/bigblow/js/jquery.zclip.min.js"></script>
<script type="text/javascript" src="https://joesanmarzano.duckdns.org/public_html/css/org-html-themes-master/styles/bigblow/js/bigblow.js"></script>
<script type="text/javascript" src="https://joesanmarzano.duckdns.org/public_html/css/org-html-themes-master/styles/bigblow/js/hideshow.js"></script>
<script type="text/javascript" src="https://joesanmarzano.duckdns.org/public_html/css/org-html-themes-master/styles/bigblow/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2019 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div style = "text-align: right; margin-top: 5px">
   <a accesskey="h" href="" style="font: 20px arial,helvetica,clean,sans-serif"></a>
   <a accesskey="H" href="https://joesanmarzano.duckdns.org/public_html/" style="font: 20px arial,helvetica,clean,sans-serif;margin: 30px;"> HOME </a>
</div><div id="content">
<h1 class="title">Odroid XU4</h1>

<div id="outline-container-orgb4cbe1c" class="outline-2">
<h2 id="orgb4cbe1c">Hardware</h2>
<div class="outline-text-2" id="text-orgb4cbe1c">
<ul class="org-ul">
<li>CPU: Exynos5422
Samsung Exynos5 Octa ARM Cortex™-A15 Quad 2Ghz and Cortex™-A7 Quad 1.3GHz CPUs</li>
<li>GPU: Mali-T628 MP6(OpenGL ES 3.1/2.0/1.1 and OpenCL 1.2 Full profile)</li>
<li>2 USB 3 Ports, 1 USB 2 Port</li>
<li>Gigabit Ethernet</li>
<li>HDMI (no Audio In/Out)</li>
<li>Memory
2GB LPDDR3 RAM at 933MHz (14.9GB/s memory bandwidth) PoP stacked</li>
</ul>

<p>
Overview:
</p>
<div class="PICTURE">

<div class="figure">
<p><img src="resources/Odroid-XU4_Overview.PNG" alt="Odroid-XU4_Overview.PNG" />
</p>
</div>

</div>

<p>
Block Diagram:
</p>
<div class="PICTURE">

<div class="figure">
<p><img src="resources/OdroidXU4_Block_Diagram.PNG" alt="OdroidXU4_Block_Diagram.PNG" />
</p>
</div>

</div>

<p>
Pinout (CON10 Header):
</p>
<div class="PICTURE">

<div class="figure">
<p><img src="resources/Odroid-XU4_CON10_Pinout.PNG" alt="Odroid-XU4_CON10_Pinout.PNG" />
</p>
</div>

</div>

<p>
Pinout (CON11 Header):
</p>
<div class="PICTURE">

<div class="figure">
<p><img src="resources/Odroid-XU4_CON11_Pinout.PNG" alt="Odroid-XU4_CON11_Pinout.PNG" />
</p>
</div>

</div>
</div>
</div>
<div id="outline-container-org20fe170" class="outline-2">
<h2 id="org20fe170">Linux</h2>
<div class="outline-text-2" id="text-org20fe170">
<ul class="org-ul">
<li>Flashing Tool (WindowsWin32DiskImager)
<a href="http://com.odroid.com/sigong/nf_file_board/nfile_board_view.php?keyword=&amp;tag=&amp;bid=199">http://com.odroid.com/sigong/nf_file_board/nfile_board_view.php?keyword=&amp;tag=&amp;bid=199</a></li>
</ul>
</div>

<div id="outline-container-orgf7f3c51" class="outline-3">
<h3 id="orgf7f3c51">Ampache</h3>
<div class="outline-text-3" id="text-orgf7f3c51">
<p>
To be found in <code>/var/www/html/ampache</code>.
</p>

<p>
Config file: <code>config/ampache.cfg.php</code>
</p>

<p>
Log file: <code>var/www/html/ampache/log/</code> 
</p>
</div>

<div id="outline-container-org805a311" class="outline-4">
<h4 id="org805a311">Localplay</h4>
<div class="outline-text-4" id="text-org805a311">
<p>
Ampache can control an <code>MPD</code>-server.
Use MPD-server
</p>

<p>
There is a MPD-controller already in <code>/modules/localplay/</code>.
Different instances of the controller can be created in the Web Interface
with <code>Add Instance</code> when pressing the speaker icon.
</p>
</div>
</div>
</div>
<div id="outline-container-org16269cb" class="outline-3">
<h3 id="org16269cb">Audio</h3>
<div class="outline-text-3" id="text-org16269cb">
<ul class="org-ul">
<li><p>
USB Soundcard UGREEN
<a href="https://www.ugreen.com/product/UGREEN_USB_External_Stereo_Sound_Card_Aux_and_2RCA_Converter-en.html#ad-image-0">https://www.ugreen.com/product/UGREEN_USB_External_Stereo_Sound_Card_Aux_and_2RCA_Converter-en.html#ad-image-0</a>
</p>

<p>
This is necessary to loop line in to output:
</p>
<pre class="example">
pactl load-module module-loopback
</pre></li>
</ul>
</div>
</div>
<div id="outline-container-orgc421b6f" class="outline-3">
<h3 id="orgc421b6f">Cloud Commander</h3>
<div class="outline-text-3" id="text-orgc421b6f">
<p>
<a href="http://cloudcmd.io/">http://cloudcmd.io/</a>
</p>

<p>
In order to use it start (as odroid):
</p>
<pre class="example">
cloudcmd
</pre>


<p>
and kill it again with Ctrl-c.
</p>

<p>
Process: <i>cloudcmd</i>
</p>

<p>
See also:
<i>usr/lib/node_modules/cloudcmd</i>
</p>

<p>
Config file: <code>~/.cloudcmd.json</code>
</p>
<pre class="example">
cloudcmd --show-config
</pre>
</div>
</div>

<div id="outline-container-org373bd07" class="outline-3">
<h3 id="org373bd07">GPIO</h3>
<div class="outline-text-3" id="text-org373bd07">
<p>
Export control of GPIO pin 21 to user space:
</p>
<pre class="example">
echo 21|sudo tee /sys/class/gpio/export 
</pre>


<p>
Now there should be a new directory <code>/sys/class/gpio/gpio21</code> in which you
find various files, e.g. <code>value</code>. 
</p>

<p>
Just <code>cat value</code> to read the current state of the pin (0 or 1).
</p>

<p>
For setting the pin issue 
</p>
<pre class="example">
echo "out" &gt; /sys/class/gpio/gpio21/direction
</pre>

<p>
and write to <code>value</code>.
</p>
</div>
</div>

<div id="outline-container-orgc184aa1" class="outline-3">
<h3 id="orgc184aa1">Kodi</h3>
<div class="outline-text-3" id="text-orgc184aa1">
</div>
<div id="outline-container-org47e18d9" class="outline-4">
<h4 id="org47e18d9">Build Kodi</h4>
<div class="outline-text-4" id="text-org47e18d9">
<p>
<a href="https://kodi.wiki/view/HOW-TO:Compile_Kodi_for_Debian_or_Ubuntu">https://kodi.wiki/view/HOW-TO:Compile_Kodi_for_Debian_or_Ubuntu</a>
</p>
<ul class="org-ul">
<li>Dependencies</li>
</ul>
<pre class="example">
sudo apt-get update
sudo apt-get build-dep kodi
</pre>
</div>
</div>
</div>
<div id="outline-container-org1bacbbd" class="outline-3">
<h3 id="org1bacbbd">Media Server</h3>
<div class="outline-text-3" id="text-org1bacbbd">
<p>
Plex Server
</p>
<ol class="org-ol">
<li>Install Plex Media Server</li>
<li>Sign up</li>
<li>Add Library</li>
<li>allow remote access to your media server</li>
</ol>

<p>
Plex Client
</p>
<ol class="org-ol">
<li>Install App</li>
</ol>
</div>
</div>

<div id="outline-container-org325801f" class="outline-3">
<h3 id="org325801f">MPD (Music Player Daemon)</h3>
<div class="outline-text-3" id="text-org325801f">
<p>
MPD is running in system wide mode.
</p>

<pre class="example">
sudo apt-get install mpd
</pre>

<p>
Will be installed as a service in <code>/etc/init.d/</code>:
</p>
<pre class="example">
sudo service mpd start|stop|restart
</pre>


<p>
Start it verbose for troubleshooting:
</p>
<pre class="example">
sudo mpd --stdout --no-daemon --verbose
</pre>


<p>
Configuration File: <code>/etc/mpd.conf</code>
</p>

<p>
Notes:
</p>
<ul class="org-ul">
<li>Has to be started after <code>pulseaudio</code> in order to 
work together with it.</li>
</ul>
</div>
</div>

<div id="outline-container-orgc02f521" class="outline-3">
<h3 id="orgc02f521">Openmediavault (didn't work well)</h3>
<div class="outline-text-3" id="text-orgc02f521">
</div>
<div id="outline-container-org151fd99" class="outline-4">
<h4 id="org151fd99">Installation</h4>
<div class="outline-text-4" id="text-org151fd99">
<p>
There is a special image for Odroid. 
resize the image to the size of the SD Card (Just download tuxboot-xxx.exe).
</p>
<ul class="org-ul">
<li>Use a live GParted Live CD if you can find it or</li>
</ul>
<p>
(- create bootable USB Stick with GParted using tuxboot)
</p>

<p>
To get to the console login with root pwd: openmediavault
</p>
</div>
</div>

<div id="outline-container-org60db8f2" class="outline-4">
<h4 id="org60db8f2">Configuring the system</h4>
<div class="outline-text-4" id="text-org60db8f2">
<ul class="org-ul">
<li>mkdir /media/Toschiba</li>
<li>mount /dev/sdb2 /media/BigData
make fstab entry</li>
<li><p>
share /media/BigData
create samba share in file /etc/samba/smb.config
</p>
<blockquote>
<p>
[PiShare]
 comment=Raspberry Pi Share
 path=/media/BigData
 browseable=Yes
 writeable=Yes
 only guest=no
 guest ok = yes
 create mask=0777
 directory mask=0777
 public=yes
</p>
</blockquote></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org6a70146" class="outline-3">
<h3 id="org6a70146"><span class="todo TODO">TODO</span> Reboot</h3>
<div class="outline-text-3" id="text-org6a70146">
<p>
To get the sound stuff working you need to do the following:
</p>

<p>
Restart mpd as user
(if started: <code>sudo service mpd stop</code>
</p>
<pre class="example">
sudo mpd
</pre>


<p>
Change <code>fstab</code>: Uncomment USB-Drives.
</p>
<pre class="example">
sudo mount -a
</pre>


<p>
The rest should work out of the box.
</p>

<p>
Load IR-module
</p>
<pre class="example">
sudo modprobe gpioplug_ir_recv gpio_nr=29 active_low=1
</pre>


<p>
Create a symlink
</p>
<pre class="example">
sudo ln -s /dev/lirc0 /dev/lirc
</pre>


<p>
Restart <code>lircd</code> and <code>irexec</code>
(if started: <code>sudo service lirc stop</code>)
</p>
<pre class="example">
sudo lircd
sudo irexec -d
</pre>



<p>
in <code>~/.profile</code>
Load pulseaudio loopback module (sound input -&gt; output)
</p>
<pre class="example">
pactl load-module module-loopback
</pre>
</div>


<div id="outline-container-orgd4b6fe0" class="outline-4">
<h4 id="orgd4b6fe0">Architecture</h4>
<div class="outline-text-4" id="text-orgd4b6fe0">
<p>
Apache is composed of modules 
</p>
<ul class="org-ul">
<li>protocol modules for http, ftp,&#x2026; (e.g. mod_ftp, mod_pop3)</li>
<li>extension modules for manipulating a request (hooks, filters)</li>
</ul>

<p>
Apache can be executed process or thread based.
</p>

<p>
Hocks implement an event mechanism for signaling events to other modules.
</p>
</div>
</div>
</div>

<div id="outline-container-org057ae31" class="outline-3">
<h3 id="org057ae31">Shellinabox</h3>
<div class="outline-text-3" id="text-org057ae31">
<p>
The option <code>--disable-ssl</code> is important when using behind apache. 
Add it in config file.
</p>

<p>
Start with service (config file: <code>/etc/default/shellinabox</code>)
</p>
<pre class="example">
sudo service shellinabox start|stop|restart
</pre>


<ul class="org-ul">
<li>css - options in <code>/etc/shellinabox/options-available</code>
Read the <code>README</code> file. Default styles have a "+" in the name.</li>
</ul>

<p>
Manual start:
</p>
<pre class="example">
sudo shellinaboxd --disable-ssl 
</pre>
</div>
</div>

<div id="outline-container-org388c896" class="outline-3">
<h3 id="org388c896">Transmission</h3>
<div class="outline-text-3" id="text-org388c896">
<pre class="example">
~\.config\transmission\settings.json
</pre>


<p>
Restart service:
</p>
<pre class="example">
sudo service transmission-daemon start
</pre>
</div>
<div id="outline-container-orge7a8b21" class="outline-4">
<h4 id="orge7a8b21">Use Transmission via VPN</h4>
<div class="outline-text-4" id="text-orge7a8b21">
<p>
You need a provider and a VPN program (e.g. OpenVPN) running
together with transmission. 
</p>

<pre class="example">
sudo apt-get update &amp;&amp; sudo apt-get install openvpn
</pre>


<p>
Providers:
</p>
<ul class="org-ul">
<li>Ivacy</li>
<li>NordVPN</li>
</ul>

<p>
Test: <a href="https://ipleak.net/">https://ipleak.net/</a>
</p>
</div>
</div>
</div>

<div id="outline-container-orgb34ed96" class="outline-3">
<h3 id="orgb34ed96">Tuning</h3>
<div class="outline-text-3" id="text-orgb34ed96">
<p>
<a href="https://obihoernchen.net/1416/odroid-xu4-tune-network-and-usb-speed/">https://obihoernchen.net/1416/odroid-xu4-tune-network-and-usb-speed/</a>
</p>

<pre class="example">
iperf3 -s
iperf3 -c 192.168.0.27 
</pre>


<p>
current network speed: ca. 50 Mbit/s (WiFi)
</p>
</div>

<div id="outline-container-org00da170" class="outline-4">
<h4 id="org00da170">CPU Performance</h4>
<div class="outline-text-4" id="text-org00da170">
<p>
List cpu cores:
</p>
<pre class="example">
lscpu -e
</pre>


<p>
Detailed view including processes:
</p>
<pre class="example">
htop
</pre>


<p>
Restrict a process to a specific CPU (<code>taskset</code>):
</p>
<pre class="example">
taskset --cpu-list 1,2 command
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd24245d" class="outline-3">
<h3 id="orgd24245d">Ubuntu 16.04</h3>
<div class="outline-text-3" id="text-orgd24245d">
<p>
Ubuntu Mate
</p>
</div>
</div>
<div id="outline-container-org8752dd7" class="outline-3">
<h3 id="org8752dd7">Video</h3>
<div class="outline-text-3" id="text-org8752dd7">
<p>
SDL (Simple Direct Media Layer)
<code>libsdl2</code>
</p>
</div>
</div>

<div id="outline-container-org9c9a030" class="outline-3">
<h3 id="org9c9a030">Webserver Apache</h3>
<div class="outline-text-3" id="text-org9c9a030">
<p>
<a href="http://httpd.apache.org/docs/current/">Online Reference</a>
</p>

<p>
The URLs a user types into the browser have to be mapped to file locations on the
server. A DNS server resolves the domain name to an IP-address. The internal 
<i>ServerName</i> is used by apache to identify the correct virtual host configuration.
So if a client uses different URLs to reach the same IP-address (those different names
have to be resolved by a DNS server) apache will use the corresponding virtual host
configuration related to that URL (contained in the http-request). 
</p>

<ul class="org-ul">
<li>ServerName <code>joesanmarzano.duckdns.org</code></li>
<li>DocumentRoot <code>/var/www/html</code></li>
</ul>

<p>
Config files:
</p>
<ul class="org-ul">
<li><p>
<code>/etc/apache2/apache.conf</code> (Ubuntu version of <code>httpd.conf</code>)
</p>
<pre class="example">
# Include the virtual host configurations:
IncludeOptional sites-enabled/*.conf

ServerName joesanmarzano.duckdns.org
</pre></li>
</ul>

<p>
What you have to modify is the content of <code>/etc/apache2/sites-available</code> although <code>sites-enabled</code>
is included in the <code>apache.conf</code> file (<code>sites-enabled</code> contains links to <code>sites-available</code>).
</p>

<p>
The .conf files contain configurations for virtual hosts listening on port
80 and 443. 
</p>
<pre class="example">
DocumentRoot /var/www/html

&lt;Directory /var/www/html/nextcloud/&gt;
   Options +FollowSymlinks
   AllowOverride All
&lt;/Directory&gt;
</pre>

<p>
Restart service:
</p>
<pre class="example">
sudo service apache2 restart
</pre>
</div>

<div id="outline-container-org56025c6" class="outline-4">
<h4 id="org56025c6">Config Files and Programs</h4>
<div class="outline-text-4" id="text-org56025c6">
<p>
Default locations:
</p>
<dl class="org-dl">
<dt>HTML</dt><dd><code>htdocs</code></dd>
<dt>Config files</dt><dd><code>conf/httpd.conf</code> (Ubuntu: <code>/apache2/apache2.conf</code>)</dd>
<dt>Log files</dt><dd><code>log/</code></dd>
</dl>

<p>
Directives in the <code>httpd.conf</code> are described here: <a href="http://httpd.apache.org/docs/current/en/mod/directives.html">http://httpd.apache.org/docs/current/en/mod/directives.html</a>.
Directive containers (sections) limit the scope of directives.
Directives outside of a section have server scope.
</p>
</div>
</div>

<div id="outline-container-org8504254" class="outline-4">
<h4 id="org8504254">Modules</h4>
<div class="outline-text-4" id="text-org8504254">
<p>
Apache can also be an FTP or POP3 etc. server.
Apache can be process or thread based (Multi-Processing Modules).
</p>

<p>
<b>Hooks</b>
</p>

<p>
Hooks are a kind of event handlers. 
</p>

<p>
<b>Filters</b>
</p>

<p>
SSL is implemented as a filter. 
</p>
</div>
</div>

<div id="outline-container-org5a2e7b6" class="outline-4">
<h4 id="org5a2e7b6">Virtual Hosts</h4>
<div class="outline-text-4" id="text-org5a2e7b6">
<p>
The configuration can be found in a *.config file inside <code>sites-available</code>. It will then be
included in <code>apache.conf</code> when the server is started.
</p>
<pre class="example">
&lt;VirtualHost *:443&gt;

&lt;/VirtualHost&gt;
</pre>
</div>
</div>

<div id="outline-container-org54dfd03" class="outline-4">
<h4 id="org54dfd03">Reverse Proxy (Gateway)</h4>
<div class="outline-text-4" id="text-org54dfd03">
<p>
A Reverse Proxy gets data for an outside client from the internal network
making it look like the data is coming only from the Web server itself, i.e.
the client is only talking to the Web server.
</p>

<p>
What for?
</p>
<ul class="org-ul">
<li>Hide port numbers from the outside world (e.g. when using services like
transmission, cloudcmd).</li>
</ul>

<p>
How to do it?
</p>

<p>
<code>sites-available/000-default-le-ssl.conf</code>:
</p>
<pre class="example">
SSLProxyEngine on

ProxyPass /transmission/ http://localhost:9091/transmission/
ProxyPassReverse http://localhost:9091/transmission/ /transmission/

ProxyPass /cloudcmd/ http://localhost:4430/cloudcmd/
ProxyPassReverse /cloudcmd/ http://localhost:4430/cloudcmd/

ProxyPass /shell/ http://localhost:4200/
ProxyPassReverse http://localhost:4200/ /shell/

ProxyRequests On
ProxyPreserveHost Off
</pre>

<ul class="org-ul">
<li>It's not necessary to turn on /ProxyRequests/(?).</li>
</ul>
</div>
</div>

<div id="outline-container-org2f92223" class="outline-4">
<h4 id="org2f92223">Rewrite Rules</h4>
<div class="outline-text-4" id="text-org2f92223">
<p>
Needs <code>mod_rewrite</code> module. 
</p>

<pre class="example">
RewriteEngine on
RewriteCond %{SERVER_NAME} =joesanmarzano.duckdns.org
RewriteRule ^ https://%{SERVER_NAME}%{REQUEST_URI} [END,NE,R=permanent]
</pre>

<p>
Redirection
</p>
<pre class="example">
Redirect temp /news/ http://example.com/latest/news/
</pre>


<p>
A request for <a href="http://example.com/news/index.html">http://example.com/news/index.html</a> will be redirected to 
<a href="http://example.com/latest/news/index.html">http://example.com/latest/news/index.html</a>
</p>

<p>
<code>temp</code> status code (302)
</p>
</div>
</div>

<div id="outline-container-orgacd4923" class="outline-4">
<h4 id="orgacd4923">Homepage</h4>
<div class="outline-text-4" id="text-orgacd4923">
</div>
<div id="outline-container-org8bd9611" class="outline-5">
<h5 id="org8bd9611">How to add search engine</h5>
<div class="outline-text-5" id="text-org8bd9611">
<ul class="org-ul">
<li>Tipue
Problem: need to generate index with their online tool: <a href="http://www.tipue.com/beaty/">http://www.tipue.com/beaty/</a>
goes to <code>tipuesearch_content.js</code></li>
<li>Zoom 
Problem: only free up to 50 pages</li>
<li>Apache Lucene
Written in Java.</li>
<li>Sphinx</li>
<li><p>
DuckDuckGo Search box
</p>
<ul class="org-ul">
<li><a href="https://duckduckgo.com/search_box">https://duckduckgo.com/search_box</a></li>
</ul>
<div class="org-src-container">
<pre class="src src-html">&lt;<span class="org-function-name">iframe</span> <span class="org-variable-name">src</span>=<span class="org-string">"https://duckduckgo.com/search.html?site=https://joesanmarzano.duckdns.org/public_html/&amp;prefill=Search Joe's Notes"</span> <span class="org-variable-name">style</span>=<span class="org-string">"overflow:hidden;margin:0;padding:0;width:408px;height:40px;"</span> <span class="org-variable-name">frameborder</span>=<span class="org-string">"0"</span>&gt;&lt;/<span class="org-function-name">iframe</span>&gt;
</pre>
</div>
<p>
For this to work, your site has to be indexed with Microsofts Bing. 
</p></li>
</ul>
</div>
<div id="outline-container-org669c095" class="outline-6">
<h6 id="org669c095">Webcrawler, Spider</h6>
</div>
<div id="outline-container-orge604dc2" class="outline-6">
<h6 id="orge604dc2">Apache Solr</h6>
<div class="outline-text-6" id="text-orge604dc2">
<p>
Search Server based on Lucene. Seems to be overkill (~600 MB RAM).
You start a Solr server (there is a browser interface).
</p>

<pre class="example">
solr start
</pre>

<p>
Browser: <a href="http://localhost:8983">http://localhost:8983</a>
</p>

<p>
Then you use the <code>bin/post</code> tool to create index data. 
</p>
<pre class="example">
solr-8.1.0:$ bin/post -c techproducts example/exampledocs/*
</pre>
</div>
</div>

<div id="outline-container-org724e674" class="outline-6">
<h6 id="org724e674">Lunr.js</h6>
<div class="outline-text-6" id="text-org724e674">
<p>
lightweight text search engine inspired by solr.
</p>
<ul class="org-ul">
<li>Need to create a javascript data structure (documents) out 
of the html files.
<ul class="org-ul">
<li>title</li>
<li>headings</li>
<li>paragraphs</li>
</ul></li>

<li>Use with <code>cheerio</code> html parser.
<ul class="org-ul">
<li><a href="https://github.com/BLE-LTER/Lunr-Index-and-Search-for-Static-Sites">https://github.com/BLE-LTER/Lunr-Index-and-Search-for-Static-Sites</a></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgaa243ec" class="outline-6">
<h6 id="orgaa243ec">jquery</h6>
<div class="outline-text-6" id="text-orgaa243ec">
<ul class="org-ul">
<li>Have to generate a <code>searchindex.js</code> file which contains an index already.</li>
<li><code>wh_search.htm</code> file (precision helper)</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-org2016ee6" class="outline-2">
<h2 id="org2016ee6">Backup</h2>
<div class="outline-text-2" id="text-org2016ee6">
</div>
<div id="outline-container-org2290b8d" class="outline-3">
<h3 id="org2290b8d">Cron Tasks</h3>
<div class="outline-text-3" id="text-org2290b8d">
<p>
See also: <a href="../Computer Science/Linux.html#orgb0c727e">Linux.org::Cron</a>
</p>

<p>
As root do <code>crontab -e</code>. 
</p>
<pre class="example">
# minute     hour    day-of-month     month    day-of-week        commmand
  0-59       0-23    1-31             1-12     0-6 (Sun-Sat)
</pre>


<p>
<b>BigData</b>
</p>
<pre class="example">
# runs every Monday at 01:00
0 1 * * 1 /home/odroid/bin/Backup/makeBigDataBackup.sh &gt; /home/odroid/bin/Backup/logBigDataBackup.txt
</pre>


<p>
<b>SD Card</b>
</p>
<pre class="example">
# runs every Sunday at 03:00 
0 3 * * 0 /home/odroid/bin/Backup/makeSDCardBackup.sh &gt; /home/odroid/bin/Backup/logSDCardBackup.txt
</pre>


<p>
<b>Nextcloud (run as www-data)</b>
</p>

<p>
Nextcloud apps register actions with cron.php automatically to take care of typical housekeeping operations, 
such as garbage collecting of temporary files or checking for newly updated files using filescan() 
for externally mounted file systems.
</p>
<pre class="example">
# runs every 15 min
*/15 * * * * su www-data -c php -f /var/www/html/nextcloud/cron.php &gt; /home/odroid/bin/Backup/logNextcloudCron.txt
</pre>


<pre class="example">
# runs every day at 05:00
0 5 * * * su www-data -c php /var/www/html/nextcloud/occ files:scan --all &gt; &gt; /home/odroid/bin/Backup/logNextcloudScan.txt
</pre>
</div>
</div>

<div id="outline-container-org0278a6d" class="outline-3">
<h3 id="org0278a6d">Create SD-Card Backup</h3>
<div class="outline-text-3" id="text-org0278a6d">
</div>
<div id="outline-container-org5f38eb5" class="outline-4">
<h4 id="org5f38eb5">Removing the SD-Card</h4>
<div class="outline-text-4" id="text-org5f38eb5">
<p>
Win32 Disk Imager
</p>
<ul class="org-ul">
<li>Click the <i>Folder</i> button and specify the image file</li>
<li>Click the <i>Read</i> button</li>
</ul>
</div>
</div>

<div id="outline-container-org4b6e02d" class="outline-4">
<h4 id="org4b6e02d">On the fly - while system is running</h4>
<div class="outline-text-4" id="text-org4b6e02d">
<p>
Identify SD-Card: <code>sudo fdisk -l</code>
</p>
<pre class="example">
Disk /dev/mmcblk1: 29.7 GiB, 31914983424 bytes, 62333952 sectors                                                                                      
Units: sectors of 1 * 512 = 512 bytes                                                                                                                 
Sector size (logical/physical): 512 bytes / 512 bytes                                                                                                 
I/O size (minimum/optimal): 512 bytes / 512 bytes                                                                                                     
Disklabel type: dos                                                                                                                                   
Disk identifier: 0x3cedfd53                                                                                                                           
                                                                                                                                                      
Device         Boot  Start      End  Sectors  Size Id Type                                                                                            
/dev/mmcblk1p1        2048   264191   262144  128M  c W95 FAT32 (LBA)                                                                                 
/dev/mmcblk1p2      264192 62332928 62068737 29.6G 83 Linux 
</pre>

<p>
Script using <code>dd</code> <code>makeSDCardBackup.sh</code>
</p>
<div class="org-src-container">
<pre class="src src-awk"><span class="org-comment-delimiter">#</span><span class="org-comment">!/bin/bash</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">Backup OS to the USB Hard Disk Drive</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">Create a filename with datestamp for our current backup (without .img suffix)</span>
backupFolder = <span class="org-string">"/media/BigData/OdroidBackup/"</span>
ofile=$backupFolder <span class="org-string">"odroid_backup"</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">Create final filename, with suffix</span>
ofilefinal=$ofile.img

<span class="org-comment-delimiter"># </span><span class="org-comment">Begin the backup process, should take about 1 hour from 8Gb SD card to HDD</span>
echo <span class="org-string">"Backing up SD card to USB HDD as "</span>$ofilefinal
echo <span class="org-string">"This will take around 1 hour. Please wait..."</span>
sudo dd <span class="org-keyword">if</span>=<span class="org-string">"/dev/mmcblk1"</span> of=$ofile bs=1M

<span class="org-comment-delimiter"># </span><span class="org-comment">Collect result of backup procedure</span>
result=$?

<span class="org-comment-delimiter"># </span><span class="org-comment">If command has completed successfully, delete previous backups and exit</span>
<span class="org-keyword">if</span> [ $result = 0 ]; then
   echo <span class="org-string">"Successful backup, previous backup files will be deleted."</span>
   mv $ofilefinal $ofilefinal <span class="org-string">"_1"</span>
   mv $ofile $ofilefinal
   <span class="org-keyword">exit</span> 0
<span class="org-comment-delimiter"># </span><span class="org-comment">Else remove attempted backup file</span>
<span class="org-keyword">else</span>
   echo <span class="org-string">"Backup failed! Previous backup files untouched."</span>
   echo <span class="org-string">"Please check there is sufficient space on the HDD."</span>
   rm -f $ofile
   <span class="org-keyword">exit</span> 1
fi
</pre>
</div>

<p>
Write image back to SD-Card
</p>
<pre class="example">
sudo umount /dev/sdc (if necessary)
sudo pv -tpreb /media/BigData/Backup/OdroidBackup/odroid_backup.img -s `du -b /media/BigData/Backup/OdroidBackup/odroid_backup.img` | of=/dev/sdc bs=1M
</pre>


<p>
Note: Could never boot the backup disk.
</p>

<p>
Alternative: <code>rpi-clone</code>
</p>
<ul class="org-ul">
<li><a href="https://github.com/billw2/rpi-clone">https://github.com/billw2/rpi-clone</a></li>
</ul>

<p>
Yet another script: <code>makeSDCardBackup_new.sh</code>
</p>
<div class="org-src-container">
<pre class="src src-awk"><span class="org-comment-delimiter">#</span><span class="org-comment">!/bin/bash</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">Setting up directories</span>
SUBDIR=raspberrypi_backups
DIR=<span class="org-string">/hdd/</span>$SUBDIR

echo <span class="org-string">"Starting RaspberryPI backup process!"</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">First check if pv package is installed, if not, install it first</span>
PACKAGESTATUS=`dpkg -s pv | grep Status`;

<span class="org-keyword">if</span> [[ $PACKAGESTATUS == S* ]]
   then
      echo <span class="org-string">"Package 'pv' is installed."</span>
   <span class="org-keyword">else</span>
      echo <span class="org-string">"Package 'pv' is NOT installed."</span>
      echo <span class="org-string">"Installing package 'pv'. Please wait..."</span>
      apt-get -y install pv
fi

<span class="org-comment-delimiter"># </span><span class="org-comment">Check if backup directory exists</span>
<span class="org-keyword">if</span> [ ! -d <span class="org-string">"$DIR"</span> ];
   then
      echo <span class="org-string">"Backup directory $DIR doesn't exist, creating it now!"</span>
      mkdir $DIR
fi

<span class="org-comment-delimiter"># </span><span class="org-comment">Create a filename with datestamp for our current backup (without .img suffix)</span>
OFILE=<span class="org-string">"$DIR/backup_$(date +%Y%m%d_%H%M%S)"</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">Create final filename, with suffix</span>
OFILEFINAL=$OFILE.img

<span class="org-comment-delimiter"># </span><span class="org-comment">First sync disks</span>
sync; sync

<span class="org-comment-delimiter"># </span><span class="org-comment">Shut down some services before starting backup process</span>
echo <span class="org-string">"Stopping some services before backup."</span>
service apache2 stop
service mysql stop
service cron stop
<span class="org-comment-delimiter"># </span><span class="org-comment">shellinabox</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">samba</span>
<span class="org-comment-delimiter"># </span>

<span class="org-comment-delimiter"># </span><span class="org-comment">Begin the backup process, should take about 1 hour from 8Gb SD card to HDD</span>
echo <span class="org-string">"Backing up SD card to USB HDD."</span>
echo <span class="org-string">"This will take some time depending on your SD card size and read performance. Please wait..."</span>
SDSIZE=`blockdev --getsize64 /dev/mmcblk0`;
pv -tpreb /dev/mmcblk0 -s $SDSIZE | dd of=$OFILE bs=1M conv=sync,noerror iflag=fullblock

<span class="org-comment-delimiter"># </span><span class="org-comment">Wait for DD to finish and catch result</span>
RESULT=$?

<span class="org-comment-delimiter"># </span><span class="org-comment">Start services again that where shutdown before backup process</span>
echo <span class="org-string">"Start the stopped services again."</span>
service apache2 start
service mysql start
service cron start

<span class="org-comment-delimiter"># </span><span class="org-comment">If command has completed successfully, delete previous backups and exit</span>
<span class="org-keyword">if</span> [ $RESULT = 0 ];
   then
      echo <span class="org-string">"Successful backup, previous backup files will be deleted."</span>
      rm -f $DIR/backup_*.tar.gz
      mv $OFILE $OFILEFINAL
      echo <span class="org-string">"Backup is being tarred. Please wait..."</span>
      tar zcf $OFILEFINAL.tar.gz $OFILEFINAL
      rm -rf $OFILEFINAL
      echo <span class="org-string">"RaspberryPI backup process completed! FILE: $OFILEFINAL.tar.gz"</span>
      <span class="org-keyword">exit</span> 0
<span class="org-comment-delimiter"># </span><span class="org-comment">Else remove attempted backup file</span>
   <span class="org-keyword">else</span>
      echo <span class="org-string">"Backup failed! Previous backup files untouched."</span>
      echo <span class="org-string">"Please check there is sufficient space on the HDD."</span>
      rm -f $OFILE
      echo <span class="org-string">"RaspberryPI backup process failed!"</span>
      <span class="org-keyword">exit</span> 1
fi
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org6b69aaf" class="outline-2">
<h2 id="org6b69aaf">IR-Remote Control</h2>
<div class="outline-text-2" id="text-org6b69aaf">
</div>
<div id="outline-container-orge713bb9" class="outline-3">
<h3 id="orge713bb9">Get IR Module working</h3>
<div class="outline-text-3" id="text-orge713bb9">
<p>
Module: KY-022 Infrared IR (OS-1838B ?) connected at GPIO pin 29.
</p>

<div class="PICTURE">

<div class="figure">
<p><img src="resources/KY-022 IR Module.PNG" alt="KY-022 IR Module.PNG" />
</p>
</div>

</div>

<p>
Lirc (Linux Infrared Remote Control)
Daemon reading infrared data and providing it via a socket.
</p>
<pre class="example">
sudo apt-get install lirc
</pre>

<p>
(choose None, None in the Dialog)
</p>

<p>
Kernel module <code>gpioplug_ir_recv</code> has to be loaded in order to get <code>Lirc</code> working.
</p>
<pre class="example">
modprobe  gpioplug_ir_recv gpio_nr=29 active_low=1
</pre>


<p>
Configuration file for <code>Lirc</code>: <code>/etc/lirc/hardware.conf</code>
</p>

<pre class="example">
#Chosen Remote Control
REMOTE="None"
REMOTE_MODULES="gpioplug_ir_recv"
REMOTE_DRIVER=""
REMOTE_DEVICE="/dev/lirc0"
REMOTE_SOCKET=""
REMOTE_LIRCD_CONF=""
REMOTE_LIRCD_ARGS="--uinput"
</pre>

<p>
Install modules:
</p>
<ul class="org-ul">
<li>lirc_odroid 
Will automatically load lirc_dev.</li>
<li>lirc_dev</li>
</ul>

<pre class="example">
sudo service lirc stop
</pre>


<p>
Test the IR-Module:
</p>
<pre class="example">
sudo lircd
mode2 -d /dev/lirc0
</pre>


<p>
Give the remote control keys names:
</p>
<pre class="example">
sudo irrecord /etc/lirc/lircd.conf
</pre>


<p>
Check if it works:
</p>
<pre class="example">
irw
</pre>
</div>

<div id="outline-container-orgc39b7ea" class="outline-4">
<h4 id="orgc39b7ea">Debugging</h4>
<div class="outline-text-4" id="text-orgc39b7ea">
<p>
Low level
</p>
<pre class="example">
sudo service lirc stop
mode2 -d /dev/lirc1
</pre>


<p>
This gives you the pulse space sequence recognized by the driver.
</p>

<p>
High level
</p>
<pre class="example">
irw
</pre>


<p>
Will show you codes defined in <code>/etc/lirc/lircd.conf</code>.
</p>
</div>
</div>
</div>

<div id="outline-container-orgc24d50b" class="outline-3">
<h3 id="orgc24d50b">Execute Commands with remote control</h3>
<div class="outline-text-3" id="text-orgc24d50b">
<ul class="org-ul">
<li>irexec</li>
</ul>

<p>
Config file:
</p>
<pre class="example">
/etc/lirc/lircrc
</pre>


<pre class="example">
begin
  prog = irexec
  button = KEY_1                                                      # same name as in lircd.conf
  config = echo "Hello Joe"
end
</pre>

<p>
After changes made to <code>lircrc</code>, <code>lircd</code> has to be restarted.
</p>

<p>
Try
</p>
<pre class="example">
/usr/bin/irexec -d /etc/lirc/lircrc
</pre>
</div>
</div>
<div id="outline-container-orgfed5d7f" class="outline-3">
<h3 id="orgfed5d7f">Radio</h3>
<div class="outline-text-3" id="text-orgfed5d7f">
<p>
The addresses of the radio streams can be found in: 
</p>
<pre class="example">
/home/odroid/bin/Radio/play_stream
</pre>


<p>
<code>mpd-watchdog</code> can be found in 
</p>
<pre class="example">
/home/joe/bin
</pre>
</div>
</div>
</div>
<div id="outline-container-org5f4355a" class="outline-2">
<h2 id="org5f4355a">Funk-Fernbedienung</h2>
<div class="outline-text-2" id="text-org5f4355a">
<p>
Rii MX6
</p>

<p>
Kodi: Keymap Editor Addon
</p>

<p>
Universal Fix:
<a href="https://forum.kodi.tv/showthread.php?tid=203623">https://forum.kodi.tv/showthread.php?tid=203623</a>
</p>

<p>
How to control mpd:
<a href="https://transientbits.wordpress.com/2013/03/05/music-player-daemon-per-fernbedienung-steuern-teil1/">https://transientbits.wordpress.com/2013/03/05/music-player-daemon-per-fernbedienung-steuern-teil1/</a>
</p>
</div>

<div id="outline-container-org5d1a21b" class="outline-3">
<h3 id="org5d1a21b">Funkfernbedienung Rii MX6 in Ubuntu</h3>
<div class="outline-text-3" id="text-org5d1a21b">
<p>
<code>input-utils</code>
</p>

<pre class="example">
sudo input-kbd 4
sudo input-events -t 60 4
</pre>


<p>
4 is the number of the input device.
</p>

<p>
<a href="https://linuxundich.de/gnu-linux/pc-funkfernbedienung-x10-unter-ubuntu-mit-lirc/">https://linuxundich.de/gnu-linux/pc-funkfernbedienung-x10-unter-ubuntu-mit-lirc/</a>
</p>


<p>
<a href="https://wiki.archlinux.org/index.php/Xbindkeys">https://wiki.archlinux.org/index.php/Xbindkeys</a>
<code>xbindkeys</code>
</p>
<pre class="example">
sudo apt-get install xbindkeys 
</pre>


<p>
Identify keys:
</p>
<pre class="example">
xbindkeys --key
</pre>
</div>
</div>
</div>


<div id="outline-container-org0173308" class="outline-2">
<h2 id="org0173308">Odroid N2</h2>
<div class="outline-text-2" id="text-org0173308">
<ul class="org-ul">
<li>Amlogic S922X 
<ul class="org-ul">
<li>quad-core ARM Cortex-A73 CPU cluster</li>
<li>dual core Cortex-A53 cluster</li>
<li>Mali-G52 GPU</li>
</ul></li>
<li>4GB DDR4 RAM</li>
</ul>

<p>
Alernative: Trekstor MiniPC WBX5005
</p>
</div>

<div id="outline-container-orga6b59a3" class="outline-3">
<h3 id="orga6b59a3">CoreELEC</h3>
<div class="outline-text-3" id="text-orga6b59a3">
<ul class="org-ul">
<li>enable SSH in Settings</li>
</ul>

<p>
There is no package manager by default.
</p>
<pre class="example">
installentware
</pre>

<p>
<code>opkg</code> is now available.
</p>


<p>
Things to do for the migration from Odroid XU4 to Odroid N2:
</p>
<ul class="org-ul">
<li>mpd + pulsaudio</li>
<li>Nextcloud</li>
<li>transmission</li>
<li>cloudcmd</li>
<li>shell in a box</li>
<li>Apache</li>
<li>Ampache</li>

<li>Cron Tasks</li>
</ul>
</div>
</div>
<div id="outline-container-orgb161280" class="outline-3">
<h3 id="orgb161280">Ubuntu Mate</h3>
<div class="outline-text-3" id="text-orgb161280">
<p>
HDMI not working with TV (Philips 32PFL7423D/12)
</p>

<p>
should be supported:
1920 x 1080p, 60 Hz
</p>

<p>
<code>boot.ini</code>
</p>
<pre class="example">
setenv display_autodetect "false"
setenv hdmimode "1920x1080p60hz"         #maybe remove this
setenv voutmode "HDMI"
</pre>


<p>
Try disabling CEC support:
</p>
<pre class="example">
setenv cec "false"
</pre>


<p>
CPU Frequency:
</p>
<pre class="example">
setenv max_freq_a73 "1992"  # 1.992 GHz
setenv max_freq_a53 "1992"  # 1.992 GHz
</pre>


<p>
Kodi
</p>

<p>
Should be possible since 18.04.3 2019-08-06
</p>
<pre class="example">
apt-get install kodi aml-libs
</pre>


<p>
<a href="https://wiki.odroid.com/odroid-n2/os_images/ubuntu/20190806#kodi">https://wiki.odroid.com/odroid-n2/os_images/ubuntu/20190806#kodi</a>
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Created: 2021-03-12 Fri 19:31</p>
</div>
</body>
</html>
